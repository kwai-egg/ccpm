---
# Claude Code PM Update Configuration
version: 1.0
upstream: https://github.com/kwai-egg/ccpm.git
branch: main

# Files and directories to preserve during updates (project-specific data)
preserve:
  - ".claude/epics/"           # PM workspace with project epics
  - ".claude/prds/"            # Product Requirements Documents
  - ".claude/context/"         # Project context documentation
  - ".claude/CLAUDE.md"        # Project-specific Claude instructions
  - ".claude/**/*.local.*"     # Any .local files (settings, configs)
  - ".claude/settings.json"    # Local settings
  - ".claude/config.yaml"      # Local configuration
  - ".gitignore"              # Project gitignore (may have custom entries)
  - "README.md"               # Project README (may be customized)

# Files and directories to update from upstream (system components)
update:
  - ".claude/agents/"          # AI agent definitions
  - ".claude/commands/"        # Command specifications and implementations
  - ".claude/rules/"           # System operation rules and patterns
  - ".claude/scripts/"         # Automation and utility scripts
  - ".claude/templates/"       # Content templates and patterns
  - ".claude/VERSION"          # Version tracking
  - ".claude/CHANGELOG.md"     # System changelog
  - "AGENTS.md"               # Agent documentation
  - "COMMANDS.md"             # Command reference
  - "LICENSE"                 # License file
  - "screenshot.webp"         # Project screenshot

# Backup configuration
backup:
  enabled: true
  keep_backups: 5              # Number of file backups to retain
  backup_location: ".ccpm-backups/"

# Update behavior
update_behavior:
  check_uncommitted: false     # Optional warning for git changes
  create_backup: true          # Always create backup before update
  validate_after: true         # Run validation after update
  auto_cleanup: false          # Don't auto-delete backup directories

# Validation settings
validation:
  check_commands: true         # Verify command files are valid
  check_structure: true        # Verify directory structure
  check_dependencies: true     # Verify required tools are available
  check_files: true            # Verify critical files exist after update
